<%- include('./layouts/header.ejs'); %>

<%- include('./layouts/navbar.ejs'); %>


    <!-- Start Hero -->
    <section class="relative lg:pb-24 pb-16 md:mt-[84px] mt-[70px]">
        <div class="md:container container-fluid relative">
            <div
                class="relative overflow-hidden md:rounded-md shadow dark:shadow-gray-700 h-52 bg-[url('../../assets/images/hero/pages.html')] bg-center bg-no-repeat bg-cover">
            </div>
        </div><!--end container-->

        <div class="container relative md:mt-24 mt-16">
            <div class="md:flex">
                <div class="lg:w-1/4 md:w-1/3 md:px-3">
                    <div class="relative md:-mt-48 -mt-32">
                        <div class="p-6 rounded-md shadow dark:shadow-gray-800 bg-white dark:bg-slate-900">
                            <div class="profile-pic text-center mb-5">
                                <input id="pro-img" name="profile-image" type="file" class="hidden"
                                    onchange="loadFile(event)" />
                                <div>
                                    <div class="relative h-28 w-28 mx-auto">
                                        <img src="images/userDP/dp.png"
                                            class="rounded-full shadow dark:shadow-gray-800 ring-4 ring-slate-50 dark:ring-slate-800"
                                            id="profile-image" alt="">
                                        <label class="absolute inset-0 cursor-pointer" for="pro-img"></label>
                                    </div>

                                    <div class="mt-4">
                                        <h5 class="text-lg font-semibold"><%=user.name%></h5>
                                        <p class="text-slate-400"><%=user.email%></p>
                                    </div>
                                </div>
                            </div>

                            <div class="border-t border-gray-100 dark:border-gray-700">
                                <ul class="list-none sidebar-nav mb-0 pb-0" id="navmenu-nav">
                                    <li class="navbar-item account-menu">
                                        <a href="/account"
                                            class="navbar-link text-slate-400 flex items-center py-2 rounded">
                                            <span class="me-2 mb-0"><i data-feather="airplay" class="size-4"></i></span>
                                            <h6 class="mb-0 font-medium">Account</h6>
                                        </a>
                                    </li>

                                    <li class="navbar-item account-menu">
                                        <a href="/personal_details" class="navbar-link text-slate-400 flex items-center py-2 rounded">
                                            <span class="me-2 mb-0 text-orange-500"><i data-feather="user" class="size-4"></i></span>
                                            <h6 class="mb-0 font-medium text-orange-500">Personal Details</h6>
                                        </a>
                                    </li>

                                    <li class="navbar-item account-menu">
                                        <a href="/address" class="navbar-link text-slate-400 flex items-center py-2 rounded">
                                            <span class="me-2 mb-0 "><i data-feather="edit"
                                                    class="size-4"></i></span>
                                            <h6 class="mb-0 font-medium ">Address</h6>
                                        </a>
                                    </li>

                                    <li class="navbar-item account-menu">
                                        <a href="/password" class="navbar-link text-slate-400 flex items-center py-2 rounded">
                                            <span class="me-2 mb-0"><i data-feather="key" class="size-4"></i></span>
                                            <h6 class="mb-0 font-medium">Change password</h6>
                                        </a>
                                    </li>

                                    <li class="navbar-item account-menu">
                                        <a href="/user_logout"
                                            class="navbar-link text-slate-400 flex items-center py-2 rounded">
                                            <span class="me-2 mb-0"><i data-feather="log-out" class="size-4"></i></span>
                                            <h6 class="mb-0 font-medium">Sign Out</h6>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lg:w-3/4 md:w-2/3 md:px-3 mt-6 md:mt-0">
                    <div class="p-6 rounded-md shadow dark:shadow-gray-800 bg-white dark:bg-slate-900">
                        <h5 class="text-lg font-semibold mb-4">Personal Detail :</h5>
                        <form method="post" action="#">
                            <div class="grid lg:grid-cols-2 grid-cols-1 gap-5">
                                <div>
                                    <label class="form-label font-medium">Full Name : <span class="text-red-600">*</span></label>
                                    <div class="form-icon relative mt-2">
                                        <i data-feather="user" class="w-4 h-4 absolute top-3 start-4"></i>
                                        <input type="text" 
                                        <%if(typeof user.name !== 'undefined'){%>
                                            value="<%=user.name%>"
                                        <%}%>
                                        class="ps-12 w-full py-2 px-3 h-10 bg-transparent dark:bg-slate-900 dark:text-slate-200 rounded outline-none border border-gray-100 dark:border-gray-800 focus:ring-0" placeholder="First Name:" id="firstname" name="name" required="" >
                                    </div>
                                </div>
                                <div>
                                    <label class="form-label font-medium">Phone No. : <span class="text-red-600">*</span></label>
                                    <div class="form-icon relative mt-2">
                                        <i data-feather="phone" class="w-4 h-4 absolute top-3 start-4"></i>
                                        <input name="phone"
                                        <%if(typeof user.mobile !== 'undefined'){%>
                                            value="<%=user.mobile%>"
                                        <%}%>
                                        id="number" type="text" class="ps-12 w-full py-2 px-3 h-10 bg-transparent dark:bg-slate-900 dark:text-slate-200 rounded outline-none border border-gray-100 dark:border-gray-800 focus:ring-0" placeholder="Phone : +91 ">
                                    </div>
                                </div>
                                <div>
                                    <label class="form-label font-medium">Your Email : </label>
                                    <div class="form-icon relative mt-2">
                                        <i data-feather="mail" class="w-4 h-4 absolute top-3 start-4"></i>
                                        <input type="email" 
                                        <%if(typeof user.email !== 'undefined'){%>
                                            value="<%=user.email%>"
                                        <%}%>
                                        class="ps-12 w-full py-2 px-3 h-10 bg-transparent dark:bg-slate-900 dark:text-slate-200 rounded outline-none border border-gray-100 dark:border-gray-800 focus:ring-0" placeholder="Email" name="email" required="" readonly disabled>
                                    </div>
                                </div>
                                
                            </div><!--end grid-->

                           

                            <input type="submit" id="submit" name="send" class="py-2 px-5 inline-block font-semibold tracking-wide align-middle duration-500 text-base text-center bg-orange-500 text-white rounded-md mt-5" value="Save Changes">
                        </form><!--end form-->
                    </div>
                </div>
            </div><!--end grid-->
        </div><!--end container-->
    </section><!--end section-->
    <!-- End Hero -->

    <script>
        function formValidator() {
            let name = document.address.name.value;
            let mobile = document.address.mobile.value;
            let add1 = document.address.add1.value;
            let add2 = document.address.add2.value;
            let landmark = document.address.landmark.value;
            let city = document.address.city.value;
            let pincode = document.address.pincode.value;
            if (name === null || name === "") {
                alert("Please enter a name...");
                return false;
            } else if (name.length < 3) {
                alert("Enter a vaild name...");
                return false;
            } else if (mobile.length !== 10) {
                alert("Please enter a phone number so we can call if there are any issues with delivery...");
                return false;
            } else if (add1 === null || add1 === "" || add1.length < 3) {
                alert("Please enter a Flat, House no., Building, Company, Apartment...");
                return false;
            } else if (add2 === null || add2 === "" || add2.length < 8) {
                alert("Please enter a Area, Street, Sector, Village...");
                return false;
            } else if (landmark === null || landmark === "") {
                alert("Please enter a Landmark...");
                return false;
            } else if (pincode.length < 6) {
                alert("Please enter a ZIP or postal code...");
                return false;
            } else if (city === null || city === "") {
                alert("Please enter a city name...");
                return false;
            } else {
                return true;
            }
        }
    </script>

<%- include('./layouts/footer.ejs'); %>
